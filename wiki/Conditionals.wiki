#summary Description of the use of conditionals in Snow
<wiki:toc/>

This page is currently being reconstructed.

== Introduction ==
Conditionals has been overhauled, specifically:
 
 * Parenthesis `()` are no longer required around the expression.
 * The `case` keyword is removed in the `switch` statement.
 * `break` is the default behaviour in a `case` block and can be reversed by the new keyword `fallthru`.
 * `when` is introduced as a postfix `if` sentence.

== Matrix ==
<table border="1" cellpadding="5">
    <tr>
        <td><strong>Snow</strong></td>
        <td><strong>PHP</strong></td>
    </tr>
    <tr>
        <td>
{{{
if a > 0
    echo "a is positive."
elif a == 0
    echo "a is zero."
else
    echo "a is negative."
}}}        
        </td>
        <td>
{{{
if ($a > 0) {
    echo "a is positive.";
} elseif ($a == 0) {
    echo "a is zero.";
} else {
    echo "a is negative.";
}
}}}        
        </td>
    </tr>
        <tr>
        <td>
{{{
if (a_very_long_variable_name->and_a_very_long_function_name and
                    also_a_very_long_variable_name->normal_func_name)
    pass
}}}        
        </td>
        <td>
{{{
if (and_a_very_long_function_name and($a_very_long_variable_name) &&
normal_func_name($also_a_very_long_variable_name)) {
    // Stub.
}
}}}        
        </td>
    </tr>
    <tr>
        <td>
{{{
a = b when c = d
}}}        
        </td>
        <td>
{{{
if ($c = $d) {
    $a = $b;
}
}}}        
        </td>
    </tr>    
</table>

==if==
The `if` controlstructure follows the basic pattern of:
{{{
if <expr>
    statement
}}}

Where `<expr>` can be any statement that gets evaluated to a boolean. The codeblock `statement` gets executed when `<expr>` evaluates to `true`.

==if shorthand ==
`if` can also be abbreviated to the form:
{{{
if <expr>: statement
}}}
This way only one statement is allowed (no code block) and the `:` (colon) is mandatory.

==elif / else==
_Elseif/else_ construct. Follows the form:
{{{
if <expr>
    statement
elif <expr2>
    statement2
else
    statement3
}}}

The elif-part can be infinitely repeated and gets evaluated only when `<expr>` evaluates to false.
The else block is the last resort, when no `if` or `elif` evaluates to true.

==switch==
The `switch` statement is like a bunch `if`/`elif` statements. It's basic form 
is:
{{{
switch <expr>
    0
        statement
    1
        statement
    'shortform': statement
    default
        statement
}}}
Notice that the case keyword has been removed.

Also new is that each case statement per default has an implied `break` statement 
added in the end. To revert this behaviour use the `fallthru` keyword, it's 
effect is exactly the opposite of `break`. Instead of specifying where to stop 
evaluation of the following statements, you tell the parser explicitly to 'fall 
through' to the next `case`. The `break` keyword can still be used normally, 
e.g. to break early in a condition.

{{{
# Example #1:
a = 1
switch a
    0
        echo 0
    1
        echo 1
    2
        echo 2
# prints: 1
}}}
{{{
# Example #2:
a = 1
switch a
    0
        echo 0
        fallthru
    1
        echo 1
        fallthru
    2
        echo 2
        fallthru
# prints: 12
}}}

==When==
Snow introduces a new keyword `when` that works as a postfix `if` sentence.
